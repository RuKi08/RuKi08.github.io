<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나의 모든 것 - Tools</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <header>
        <div class="logo">MyEverything</div>
        <nav>
            <ul>
                <li><a href="/home" class="nav-link" data-target="home">Home</a></li>
                <li><a href="/portfolio" class="nav-link" data-target="portfolio">Portfolio</a></li>
                <li><a href="/tools" class="nav-link" data-target="tools">AllTheTools</a></li>
            </ul>
        </nav>
        <button id="theme-toggle">☀️</button>
    </header>

    <main>
        <section id="tools-list" class="page-section active">
            <h2>All The Tools</h2>
            <div id="tool-items-container"></div>
        </section>
    </main>

    <script type="module">
        import { initTheme } from '../assets/js/modules/theme.js';
        initTheme();

        async function fetchTools() {
            const toolItemsContainer = document.getElementById('tool-items-container');
            const toolDirs = ['base64-encoder-decoder', 'number-base-converter', 'secret-box', 'text-reverser', 'url-encoder-decoder'];

            for (const dir of toolDirs) {
                try {
                    const response = await fetch(`./${dir}/tool.json`);
                    const tool = await response.json();

                    const toolItem = document.createElement('div');
                    toolItem.className = 'tool-item';

                    const toolLink = document.createElement('h3');
                    const link = document.createElement('a');
                    link.href = `./${dir}`;
                    link.textContent = tool.name;
                    toolLink.appendChild(link);

                    const toolDescription = document.createElement('p');
                    toolDescription.textContent = tool.description;

                    toolItem.appendChild(toolLink);
                    toolItem.appendChild(toolDescription);
                    toolItemsContainer.appendChild(toolItem);
                } catch (error) {
                    console.error(`Error fetching tool data for ${dir}:`, error);
                }
            }
        }

        fetchTools();
    </script>
</body>
</html>