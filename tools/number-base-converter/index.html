<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>진수 변환기</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
</head>
<body>
    <header>
        <div class="logo">진수 변환기</div>
        <button id="theme-toggle">☀️</button>
    </header>

    <main>
        <section id="number-base-converter" class="page-section active">
            <div class="tool">
                <div class="input-group">
                    <input type="text" id="number-input" placeholder="숫자를 입력하세요">
                    <select id="from-base">
                        <option value="2">2진수</option>
                        <option value="8">8진수</option>
                        <option value="10" selected>10진수</option>
                        <option value="16">16진수</option>
                    </select>
                </div>
                <div class="button-group">
                    <button id="convert-btn">변환</button>
                </div>
                <div class="input-group">
                    <input type="text" id="number-output" placeholder="결과" readonly>
                    <select id="to-base">
                        <option value="2">2진수</option>
                        <option value="8">8진수</option>
                        <option value="10">10진수</option>
                        <option value="16" selected>16진수</option>
                    </select>
                </div>
            </div>
        </section>
    </main>

    <script type="module">
        import { initTheme } from '../../assets/js/modules/theme.js';
        initTheme();

        const input = document.getElementById('number-input');
        const fromBaseSelect = document.getElementById('from-base');
        const toBaseSelect = document.getElementById('to-base');
        const output = document.getElementById('number-output');
        const convertBtn = document.getElementById('convert-btn');

        convertBtn.addEventListener('click', () => {
            const fromBase = parseInt(fromBaseSelect.value, 10);
            const toBase = parseInt(toBaseSelect.value, 10);
            const number = input.value.trim();

            if (number === '') {
                output.value = '';
                return;
            }

            try {
                const parsedNumber = parseInt(number, fromBase);
                if (isNaN(parsedNumber)) {
                    throw new Error('유효하지 않은 숫자입니다.');
                }
                output.value = parsedNumber.toString(toBase).toUpperCase();
            } catch (e) {
                output.value = `에러: ${e.message}`;
            }
        });
    </script>
</body>
</html>